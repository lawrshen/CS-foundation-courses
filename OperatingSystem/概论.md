> OS地位
>
> 基本原理、概念、方法和技术
>
> OS工作的整体过程
>
> 主要算法和功能模块

# 操作系统概论

## OS概念、地位、功能与 目标

> 什么是计算机系统

硬件、OS、应用程序（包括了系统程序）和用户

扩展了硬件的能力，协调管理者的功能 **资源管理**

主要讨论 os kernel

### 拓展机

#### 抽象与虚拟

设备：文件

存储：虚拟存储

处理器：进程

虚拟：独占资源

#### 资源管理者：服用与保护

复用（共享）：时分复用，空分复用

保护：防止应用程序相互干扰

OS特殊地位由硬件保证。

### 功能目标

- 功能：
  - 资源管理（处理器管理、存储管理、设备管理、文件管理（软件））
  - 控制执行（进程调度，并发进程控制）
  - 提供接口（作业管理）（非核心功能）
- 目标： 方便用户使用，提高机器能力，提高运行效率，提供开放环境

## 主要特征

并发性，共享性，异步性，虚拟性（管理资源实现手法）

硬件的并行能力是并发的保障。

## 运行机制概览 \**

### 计算机引导过程:个人PC机

加电之后的启动： BIOS是硬件产商提供的软件，可选的boot loader，到此都是实模式，不区分用户态和核心态，kernel变成保护模式，（状态向量表填满.etc)，用户程序代码运行在用户态，init进程号一般是PID1.

### 操作系统初始化到用户进程执行

init(PID1)--(fork)-->init--(exec)-->getty：硬件终端初始化 --(exec)--> （用户面对）login--(exec)-->sh--(fork)-->sh--(exec)-->grep(用户命令)

### 操作系统基本形态

boot loader将os kernel加载到内存，再jmp到os kernel开始处。os kernel将1.实模式变成保护模式，2.填充中断向量表。3.时钟中断机制设置（定时器 外设）

> 定时器 保证能在可预期的时间内运行，比如说，一个进程的时间片用完了执行调度。
>
> 用户态主动呼唤OS，比如说I/O操作，x86下的int指令。

现代操作系统：中断驱动。（用户态回来执行OS代码主要靠硬件（的中断机制）回到kernel运行。

(中断程序后续)调度程序 等待队列的程序哪个接下来执行

### OS主导地位

OS代码获得主导地位是因为OS代码是第一个执行的代码（被boot loader加载的），有CPU硬件机制保障。

### 用户代码执行与切换

用户代码有限直接执行(Limited Direct Execution)

ret：栈在哪边哪边pop

int：产生某种类型中断的一种指令

中断（广义）与 iret

## 发展与分类

随硬件发展而发展，OS促使硬件发展。

## OS提供的服务与接口（lab2 系统调用 \**

## OS结构 \*

微内核 与 宏内核结构

## 典型OS介绍